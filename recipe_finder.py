import streamlit as st
st.set_page_config(layout="wide")
import pandas as pd
import numpy as np
import random
import requests
import xml.etree.ElementTree as ET
from bs4 import BeautifulSoup as soup
from random import randint
from time import sleep
from urllib.request import Request, urlopen

pd.set_option('display.max_colwidth', None)

def find_ingredient(searchvals, ing_list):
    return all([any(val in string for string in ing_list) for val in searchvals])

def clean_ing(ings):
    clean = [ing.strip(" ,*") for ing in ings]
    return clean

def calc_time(time):
    try:
        hours = 0
        minutes = 0
        if time.find("hour") > -1:
            hours = int(time[:time.find("hour")-1].strip(" +:"))*60
        if time.find("min") > -1:
            minutes = int(time[time.find("min")-3: time.find("min")-1].strip(" +:"))
        return hours + minutes
    except:
        return 0

def convert(row):
    #print(row)
    return '<a href="{0}" target="_blank">{0}</a>'.format(row)




#st.title('Recipe-Finder')
st.markdown("<h1 style='text-align: center; color: black;'>Recipe Finder</h1>", unsafe_allow_html=True)

st.markdown('***')

col1, col2 = st.beta_columns((1,4))
    

col1.write('Ingredient Search')
searchlist = col1.text_area('Enter the ingredients you want to search, line by line')

col1.write('Recipe Search')
titlesearch = col1.text_input('Search a word in the recipe title')

col1.image('data:image/jpeg;base64,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')


searchlist = searchlist.lower().split('\n')
titlesearch = titlesearch.lower()

#st.write(type(searchlist))

#master = pd.read_csv(r'C:\Users\tanne\Documents\GitHub\Recipe-Finder\recipes_master.csv')

master = pd.read_csv(r'https://elasticbeanstalk-us-west-2-511853890245.s3.us-west-2.amazonaws.com/recipes_master.csv')

master = master.reset_index(drop=True)

master.Ingredients = master.Ingredients.str.replace("'","").str.strip('][').str.split(', ')

#master.Time = master.Time.apply(calc_time)

master.Link = master.Link.apply(convert)

#searchlist = ['sun-dried', 'cream']

df = master.loc[master.Ingredients.apply(lambda x: find_ingredient(searchlist, x)) & (master.Recipe.str.lower().str.find(titlesearch) > -1), ['Blog', 'Recipe', 'Link', 'Time']].sort_values('Time').reset_index(drop = True)

col2.write('Results for search criteria')
col2.write(df.to_html(escape=False), unsafe_allow_html=True)